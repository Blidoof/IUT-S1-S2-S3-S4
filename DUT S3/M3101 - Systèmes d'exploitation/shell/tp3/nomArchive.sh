#!/bin/bash
clear

echo "Merci de saisir le nom du fichier :"
read nom

clear

if [[ $1 -eq 1 ]] && [[ -e $nom ]]; then
  echo -e "Le fichier existe deja ! Merci de choisir une option :\n"
  echo -e "\tEcraser l'archive : 1"
  echo -e "\tChanger le nom de l'archive : 2"
  echo -e "\tPasser en mode ajout : 3"
  echo -e "\tAbandonner : 4"
  read optionNom

  if [[ $optionNom -eq 4 ]]; then
    exit 1
  fi

  if [[ $optionNom -eq 2 ]]; then
    ./nomArchive.sh $1 $2
  fi

  if [[ $optionNom -eq 3 ]]; then

    act=3

    ./gestionFichiers.sh $act $2 $nom
  fi

  if [[ $optionNom -eq 1 ]]; then
    ./gestionFichiers.sh $1 $2 $nom
  fi
elif [[ $1 -ne 1 ]] && ! [[ -e $nom ]]; then
  echo -e "Le fichier n'existe pas ! Merci de choisir une option :\n"
  echo -e "\tChanger le nom du fichier : 1"
  echo -e "\tAbandonner : 2"
  read optionNom

  if [[ $optionNom -eq 2 ]]; then
    exit 1
  fi

  if [[ $optionNom -eq 1 ]]; then
    ./nomArchive.sh $1 $2
  fi
else
  ./gestionFichiers.sh $1 $2 $nom
fi
